# =============================================================================
# Vana v2 — Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in the values.
#   cp .env.local.example .env.local
#
# See docs/ENVIRONMENT.md for the full reference.
# =============================================================================

# -----------------------------------------------------------------------------
# 1. Required (Day-1 bootstrap)
# -----------------------------------------------------------------------------
# These three variables are the minimum needed to run the app.

# PostgreSQL connection string (Drizzle ORM / Supabase).
# For local dev with `npx supabase start`, use the default below.
DATABASE_URL=postgresql://postgres:postgres@localhost:44322/postgres

# Vercel AI Gateway API key — primary model provider.
AI_GATEWAY_API_KEY=your_key_here

# Tavily search API key — primary search provider.
TAVILY_API_KEY=your_key_here

# -----------------------------------------------------------------------------
# 2. Supabase Auth
# -----------------------------------------------------------------------------
# Required when ENABLE_AUTH=true (the default).
# After `npx supabase start`, copy the values printed by the CLI.

NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:44321
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here

# -----------------------------------------------------------------------------
# 3. Database config
# -----------------------------------------------------------------------------

# Set to true when connecting to a local Supabase instance (no SSL).
DATABASE_SSL_DISABLED=true

# -----------------------------------------------------------------------------
# 4. Core behavior
# -----------------------------------------------------------------------------

# Toggle authentication requirement (default: true).
# ENABLE_AUTH=true

# Shared user id when auth is disabled (default: anonymous-user).
# ANONYMOUS_USER_ID=anonymous-user

# Base URL for metadata and canonical links (default: http://localhost:43100).
# NEXT_PUBLIC_APP_URL=http://localhost:43100

# -----------------------------------------------------------------------------
# 5. Search providers
# -----------------------------------------------------------------------------
# Tavily is the primary provider (set above). These are optional alternatives.

# Brave Search — used for multimedia/general search.
# BRAVE_SEARCH_API_KEY=your_key_here

# Search API selector: tavily (default) | exa | searxng | firecrawl | brave
# SEARCH_API=tavily

# Exa search provider key (required if SEARCH_API=exa).
# EXA_API_KEY=your_key_here

# Firecrawl provider key (required if SEARCH_API=firecrawl).
# FIRECRAWL_API_KEY=your_key_here

# SearXNG self-hosted search URL.
# SEARXNG_API_URL=http://localhost:8080

# -----------------------------------------------------------------------------
# 6. AI providers (direct — bypass gateway)
# -----------------------------------------------------------------------------
# Only needed if you want to use a provider directly instead of through the
# Vercel AI Gateway. The gateway key above covers most use cases.

# OPENAI_API_KEY=your_key_here
# ANTHROPIC_API_KEY=your_key_here
# GOOGLE_GENERATIVE_AI_API_KEY=your_key_here

# Ollama local model server URL (only registered when set).
# OLLAMA_BASE_URL=http://localhost:11434

# OpenAI-compatible provider (e.g., Together, Fireworks, LM Studio).
# OPENAI_COMPATIBLE_API_KEY=your_key_here
# OPENAI_COMPATIBLE_API_BASE_URL=https://api.together.xyz/v1

# -----------------------------------------------------------------------------
# 7. Cloud deployment
# -----------------------------------------------------------------------------
# Enable these when deploying the hosted/cloud version of Vana.

# Enables cloud-mode guardrails, rate limiting, and analytics.
# VANA_CLOUD_DEPLOYMENT=true

# Hides client-only controls (model selector, etc.) in cloud mode.
# NEXT_PUBLIC_VANA_CLOUD_DEPLOYMENT=true

# Upstash Redis — required when rate limiting is enabled (cloud mode).
# UPSTASH_REDIS_REST_URL=your_url_here
# UPSTASH_REDIS_REST_TOKEN=your_token_here

# -----------------------------------------------------------------------------
# 8. Optional features
# -----------------------------------------------------------------------------

# Guest chat — allow unauthenticated users to chat (requires Redis for limits).
# ENABLE_GUEST_CHAT=true
# GUEST_CHAT_DAILY_LIMIT=10

# Langfuse tracing / observability.
# ENABLE_LANGFUSE_TRACING=true
# LANGFUSE_SECRET_KEY=your_key_here
# LANGFUSE_PUBLIC_KEY=your_key_here
# LANGFUSE_BASE_URL=https://cloud.langfuse.com

# Performance diagnostics logging.
# ENABLE_PERF_LOGGING=true

# -----------------------------------------------------------------------------
# 9. Storage
# -----------------------------------------------------------------------------

# Supabase Storage bucket name for file uploads (default: user-uploads).
# SUPABASE_STORAGE_BUCKET=user-uploads
